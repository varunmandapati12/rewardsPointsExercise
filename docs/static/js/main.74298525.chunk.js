(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(2),l=a(4),c=a(3),u=a(0),o=a.n(u),m=a(6),s=["January","February","March","April","May","June","July","August","September","October","November","December"],d=function(e){return e>=50&&e<100?e-50:e>=100?2*(e-100)+50:0},i=function(e){return e.length?e.reduce((function(e,t){return d(t.amount)+e}),0):0},E=function(e){for(var t=[],a=function(a){var n=e.filter((function(e){return new Date(e.date).getMonth()===(new Date).getMonth()-a}));t[a]={month:s[(new Date).getMonth()-a],total:n.reduce((function(e,t){return d(t.amount)+e}),0),transactions:n}},n=0;n<3;n++)a(n);return t},h=function(e){var t=e.reduce((function(e,t){var a=t.customer,n=t.amount,r=t.date;return e[a]||(e[a]=[]),e[a].push({amount:n,date:r}),e}),{}),a=[];for(var n in t){var r=E(t[n]),l=i(t[n]);a.push({name:n,rewardPerMonth:r,totalReward:l})}return a},b=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).createTable=function(e){return o.a.createElement(u.Fragment,null,e.map((function(e){return o.a.createElement("tr",null,o.a.createElement("td",{className:"v-align-middle"},e.month),o.a.createElement("td",{className:"nested-table"},o.a.createElement("table",{className:"nested-table"},o.a.createElement("tr",null,o.a.createElement("th",null,"Trans Id"),o.a.createElement("th",null,"Amount")),e.transactions.length?e.transactions.map((function(e,t){return o.a.createElement("tr",null,o.a.createElement("td",null,t+1),o.a.createElement("td",null,e.amount))})):o.a.createElement("tr",null,o.a.createElement("td",{colspan:"2",className:"no-data"},"No Data")))),o.a.createElement("td",{className:"v-align-middle"},e.total))})))},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.transactions;return o.a.createElement("table",{className:"table table-bordered table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Customer Name"),o.a.createElement("th",null,"Last 3 Month Reward"),o.a.createElement("th",null,"Total Reward"))),o.a.createElement("tbody",null,t.length?h(t).map((function(t){return o.a.createElement("tr",null,o.a.createElement("td",{className:"v-align-middle"},t.name),o.a.createElement("td",{className:"nested-table"},o.a.createElement("table",{className:"nested-table"},e.createTable(t.rewardPerMonth))),o.a.createElement("td",{className:"v-align-middle"},t.totalReward))})):o.a.createElement("tr",null,o.a.createElement("td",{colspan:"3",className:"no-data"},'"No Transactions"'))))}}]),a}(u.Component),f=a(7),p=(a(13),a(14),function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("h1",null,"Customer Rewards")),o.a.createElement(b,{transactions:f}))}}]),a}(u.Component));Object(m.render)(o.a.createElement(p,null),document.getElementById("root"))},7:function(e){e.exports=JSON.parse('[{"id":1,"customer":"John","amount":100,"date":"2020-05-24"},{"id":5,"customer":"John","amount":300,"date":"2020-06-2"},{"id":2,"customer":"Mark","amount":300,"date":"2020-05-24"},{"id":3,"customer":"Luc","amount":100,"date":"2020-05-4"},{"id":4,"customer":"Paul","amount":150,"date":"2020-05-18"},{"id":6,"customer":"Paul","amount":50,"date":"2020-06-24"},{"id":7,"customer":"Paul","amount":50,"date":"2020-06-20"},{"id":8,"customer":"Alice","amount":120,"date":"2020-06-24"},{"id":9,"customer":"Alice","amount":120,"date":"2020-04-4"}]')},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.74298525.chunk.js.map